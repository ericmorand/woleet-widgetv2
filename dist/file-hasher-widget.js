!function(e){function t(t){for(var n,i,o=t[0],s=t[1],a=0,d=[];a<o.length;a++)i=o[a],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(l&&l(t);d.length;)d.shift()()}var n={},r={1:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=o);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=function(e){return i.p+"dist/"+({0:"vendors~pdf.js~woleet-weblibs",2:"pdf.js",3:"vendors~pdf.js",4:"vendors~woleet-weblibs",5:"woleet-weblibs"}[e]||e)+".js"}(e);var l=new Error;s=function(t){a.onerror=a.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",l.name="ChunkLoadError",l.type=i,l.request=o,n[1](l)}r[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="../",i.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var a=0;a<o.length;a++)t(o[a]);var l=s;i(i.s=132)}({132:function(e,t,n){"use strict";n.r(t);var r={PROXY_URL:"http://localhost:3000/download?url=",FILE_HASHER_WIDGET_ID:"file-hasher-widget",FILE_HASHER_WIDGET_TYPE:"FILE_HASHER_WIDGET"};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=["image/png","image/jpeg","image/jpg","image/gif","image/svg+xml","image/svg","application/pdf"];function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();if(f(e)&&f(i))for(var s in i)f(i[s])?(e[s]||Object.assign(e,o({},s,{})),a(e[s],i[s])):Object.assign(e,o({},s,i[s]));return a.apply(void 0,[e].concat(n))}function l(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function d(e,t){return new File([e],t,{type:e.type,lastModifiedDate:new Date})}function c(e){return e.substring(e.lastIndexOf("/")+1)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.split("."),i=r.shift();return 0===r.length?(n[i]=t,n):(n[i]=u(r.join("."),t),n)}function f(e){return e&&"object"===i(e)&&e.constructor===Object}var h={byString:function(e,t){for(var n=(t=(t=(t=t.replace(/^window./g,"")).replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),r=0,i=n.length;r<i;++r){var o=n[r];if(!(o in e))return!1;e=e[o]}return e},isObject:f,blobToFile:d,adsBlocked:function(e){var t=new Request("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",{method:"HEAD",mode:"no-cors"});fetch(t).then((function(e){return e})).then((function(){e(!1)})).catch((function(){e(!0)}))},getUniqueId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=l()+l()+"-"+l()+"-"+l()+"-"+l()+"-"+l()+l()+l();return e+n+t},extendObject:a,defineProperty:function(e){return function(t,n){return Object.defineProperty(e,t,{enumerable:!1,value:n})}},getHttpRequest:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=new XMLHttpRequest;return o.addEventListener("readystatechange",(function(){if(2===o.readyState&&200===o.status){if(n.downloadingStarted){var s=n.downloadingStarted;t.observers[s].broadcast(r)}}else if(3===o.readyState);else if(4===o.readyState)if(o.response&&200===o.status){var a=c(e),l=o.response;if(i||((l=d(l,a)).url=r),n.downloadingFinished){var u=n.downloadingFinished;t.observers[u].broadcast(l)}}else if(404===o.status&&n.downloadingFailed){var f=n.downloadingFailed;t.observers[f].broadcast("url_not_found",o.status,o.statusText)}})),o.addEventListener("progress",(function(e){if(e.lengthComputable){var r=parseInt(e.loaded/e.total*100,10);if(n.downloadingProgress){var i=n.downloadingProgress;t.observers[i].broadcast(r)}}}),!1),o.responseType="blob",o.onerror=function(e){if(n.downloadingFailed){var r=n.downloadingFailed;e instanceof ProgressEvent?t.observers[r].broadcast("cors",0,""):t.observers[r].broadcast("url_not_found",0,"")}},o.start=function(){try{o.open("GET",e,!0),o.send()}catch(e){console.log("downloading failed",e)}},o},extractClasses:function(e,t){return Object.keys(e).map((function(n){return-1!==t.indexOf(n)?e[n]:""})).filter((function(e){return e&&e.length>0}))},getFilenameUrl:c,getUrlToDownload:function(e,t,n){return(n&&t?t:"")+e},getFilenameSource:function(e){return e.substring(0,e.lastIndexOf("/"))},getObjectByString:u,parseWidgetAttributeConfiguration:function(e){for(var t=["config","class"],n={},r={},i=0,o=e.attributes;i<o.length;i++)n[o[i].nodeName]=o[i].nodeValue;return n.config&&(r=JSON.parse(n.config)),Object.keys(n).forEach((function(e){if(-1===t.indexOf(e)){var i=n[e];try{r[e]=JSON.parse(i)}catch(t){r[e]=i}var o=e.split("-");if(o.length>1){var s=u(o.join("."),r[e]);a(r,s),delete r[e]}}})),r},isPreviewable:function(e){var t=e.type;return s.includes(t)}};function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errors=[],this.logs=[]}var t,n,r;return t=e,(n=[{key:"error",value:function(e){throw this.errors.push(e),console.log("errors",this.errors,e),Error(e)}},{key:"log",value:function(e){this.logs.push(e),console.log("this.logs",this.logs)}}])&&v(t.prototype,n),r&&v(t,r),e}());function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configuration=[]}var t,n,r;return t=e,(n=[{key:"init",value:function(e){this.configuration=e}},{key:"get",value:function(){return this.configuration?this.configuration:{}}},{key:"getStyles",value:function(){return this.configuration&&this.configuration.styles?this.configuration.styles:null}},{key:"getObservers",value:function(){return this.configuration&&this.configuration.observers?this.configuration.observers:{}}}])&&g(t.prototype,n),r&&g(t,r),e}(),w="hidden";function y(e){if(!(e instanceof Element))throw new TypeError;var t=this,n=e,r=function(){return t},i=h.defineProperty(this);i("target",(function(){return n})),i("setSvg",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r(e=t?e.replace("currentColor",t):e,e?n.setAttribute("src","data:image/svg+xml;base64,".concat(btoa(e))):n.removeAttribute("src"))})),i("setSrc",(function(e){return r(e?n.setAttribute("src",e):n.removeAttribute("src"))})),i("attr",(function(e,t){return r(t?n.setAttribute(e,t):n.removeAttribute(e))})),i("removeClass",(function(e){return r(Array.isArray(e)?e.forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e))})),i("addClass",(function(e){return r(Array.isArray(e)?e.forEach((function(e){return n.classList.add(e)})):n.classList.add(e))})),i("text",(function(e,t){return r(t?n.innerText+=e:n.innerText=e)})),i("html",(function(e,t){return r(t?n.innerHTML+=e:n.innerHTML=e)})),i("append",(function(e){return r(n.appendChild(e))})),i("height",(function(e){return r(n.height=e)})),i("width",(function(e){return r(n.width=e)})),i("link",(function(e){return r(t.text(e).attr("href",e))})),i("clear",(function(){return r(t.text(""),t.attr("href",null))})),i("show",(function(){return t.removeClass(w)})),i("hide",(function(){return t.addClass(w)})),i("setHiddenClass",(function(e){return w=e})),i("style",(function(e){if(Array.isArray(e))return e.map((function(e){return n.style[e]}));if("string"==typeof e)return n.style[e];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n.style[t]=e[t]);return null})),i("on",(function(e,t,i){return r(n.addEventListener(e,t,i))})),i("off",(function(e,t){return r(n.removeEventListener(e,t))})),i("render",(function(){var e=t.target();for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];try{Array.isArray(i)?i.forEach((function(t){return e.appendChild(t.render())})):e.appendChild(i.render())}catch(e){console.warn(r,n,t[r],e)}}return e}))}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new y(document.createElement(e));if(t.classes&&r.addClass(t.classes),t.hidden&&r.setHiddenClass(t.hidden),n){var i=Object.keys(n);i.forEach((function(e){r.attr(e,n[e])}))}return r}var _={createElement:m,createFileInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m("input",e,h.extendObject({type:"file",title:""},t))}};function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observers=[]}var t,n,r;return t=e,(n=[{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"unsubscribe",value:function(e){this.observers=this.observers.filter((function(t){return t!==e}))}},{key:"broadcast",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers.forEach((function(t){return t.apply(void 0,[e].concat(n))}))}}])&&O(t.prototype,n),r&&O(t,r),e}(),F={code:["file_hasher_widget--wrapper"],error:{code:["error"],container:{code:["error_container"]}},drop:{code:["drop_container"],body:{code:["drop_container--body"],input:{code:["drop_container--body-input"]}}},download:{code:["download_container"],body:{code:["download_container--body"],icon:{code:["download_container--body-icon"]}}},preview:{code:["preview_container"],body:{code:["preview_container--body"],icon:{code:["preview_container--body-icon"]},image:{code:["preview_container--body-image"],wrapper:{code:["preview_container--body-image_wrapper"]}}},pdf:{code:["preview_container--pdf"],canvas:{code:["preview_container--pdf-canvas"],wrapper:{code:["preview_container--pdf-canvas_wrapper"]}},control:{code:["preview_container--pdf-control"],icon:{code:["preview_container--pdf-control_icon"],prev:{code:["preview_container--pdf-control_icon","preview_container--pdf-control_icon--prev"]},next:{code:["preview_container--pdf-control_icon","preview_container--pdf-control_icon--next"]}}}},control:{code:["preview_container--control"],icon:{code:["preview_container--control_icon"],redo:{code:["preview_container--control_icon","preview_container--control_icon--redo"]}}}},widget:{hidden:["woleet_widget_hidden"]}},C=n(135),E=n.n(C),P=n(139),x=n.n(P);var I={getPdfJs:function(){return Promise.all([n.e(0),n.e(3),n.e(2)]).then(n.t.bind(null,134,7)).then((function(e){return e.default})).catch((function(e){return"An error occurred while loading the component"}))},getWoleetLibs:function(){return Promise.all([n.e(0),n.e(4),n.e(5)]).then(n.t.bind(null,133,7)).then((function(e){return e.default})).catch((function(e){return"An error occurred while loading the component"}))}};function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=this;this.element=null,this.widget=t,this.parent=n,this.delayedFile=null,this.importIcon=null,window.woleet?r.hasher=new window.woleet.file.Hasher:I.getWoleetLibs().then((function(e){window.woleet=e,r.hasher=new e.file.Hasher,r.hashDelayedFile()})),this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.element=_.createElement("div",{classes:h.extractClasses(x.a,F.drop.code)}),this.element.body=_.createElement("div",{classes:h.extractClasses(x.a,F.drop.body.code)}),this.element.body.input=_.createFileInput({classes:h.extractClasses(x.a,F.drop.body.input.code)}),this.initializeObservers(),this.initializeEvents()}},{key:"initializeObservers",value:function(){var e=this,t=this;this.widget.observers.downloadModeInitiatedObserver.subscribe((function(t){e.downloadModeInitiated(t)})),this.widget.observers.downloadingFailedObserver.subscribe((function(t){e.downloadingFailed(t)})),this.widget.observers.uploadModeInitiatedObserver.subscribe((function(t){e.uploadModeInitiated(t),e.hashingCanceled(t)})),this.widget.observers.widgetResetObserver.subscribe((function(){e.hashingCanceled()})),this.widget.observers.downloadingFinishedObserver.subscribe((function(n){e.startHashing(n).then((function(e){e&&t.widget.observers.hashingFinishedObserver.broadcast(e)}))})),this.widget.observers.errorCaughtObserver.subscribe((function(){e.downloadingStarted(),e.hashingCanceled()}))}},{key:"initializeEvents",value:function(){var e=this;this.element.body.input.on("change",(function(){e.onInputFileChanged.call(this,e).then((function(t){t&&e.widget.observers.hashingFinishedObserver.broadcast(t)}))}))}},{key:"updateProgress",value:function(e){var t=100*e.progress;t||(t=0),t=t.toFixed(0),this.widget.observers.hashingProgressObserver.broadcast(t)}},{key:"handleError",value:function(e){this.widget.observers.errorCaughtObserver.broadcast(e.error)}},{key:"startHashing",value:function(e){return this.hasher?this.hash(e):(this.delayedFile=e,new Promise((function(e){e(!1)})))}},{key:"hashDelayedFile",value:function(){var e=this;return this.delayedFile?this.hash(this.delayedFile).then((function(t){t&&e.widget.observers.hashingFinishedObserver.broadcast(t)})):null}},{key:"hash",value:function(e){var t=this;t.updateProgress({progress:0});var n=h.isPreviewable(e);return t.widget.observers.hashingStartedObserver.broadcast(e,n),t.element.hide(),t.delayedFile=null,new Promise((function(n){t.hasher.start(e),t.hasher.on("progress",(function(e){t.updateProgress(e)})),t.hasher.on("error",(function(e){t.handleError(e)})),t.hasher.on("result",(function(t){n({hash:t.result,file:e})}))}))}},{key:"onInputFileChanged",value:function(e){var t=this.files[0];return t||p.error("".concat(this.widget.widgetId,": File isn't found")),this.value=null,e.widget.observers.fileSelectedObserver.broadcast(t),e.startHashing(t)}},{key:"downloadModeInitiated",value:function(){this.element.hide()}},{key:"downloadingFailed",value:function(){this.element.hide()}},{key:"uploadModeInitiated",value:function(){this.element.show()}},{key:"downloadingStarted",value:function(){this.element.show()}},{key:"hashingCanceled",value:function(){this.hasher&&this.hasher.cancel()}},{key:"get",value:function(){return this.element}}])&&S(t.prototype,n),r&&S(t,r),e}(),A=n(141),T=n.n(A);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.configuration.file.url;if(this.element=null,this.request=null,this.widget=t,this.url=n||null,this.observerMapper={downloadingProgress:"downloadingProgressObserver",downloadingStarted:"downloadingStartedObserver",downloadingFinished:"downloadingFinishedObserver",downloadingFailed:"downloadingFailedObserver"},null!==this.url){var i=t.configuration.proxy,o=i.url,s=i.enabled;window.dev&&(s=!0,o=r.PROXY_URL);var a=h.getUrlToDownload(this.url,o,s);this.request=h.getHttpRequest(a,this.widget,this.observerMapper,this.url)}this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){this.element=_.createElement("div",{classes:h.extractClasses(T.a,F.download.code)}),this.initializeObservers()}},{key:"initializeObservers",value:function(){var e=this;this.widget.observers.downloadModeInitiatedObserver.subscribe((function(t){e.downloadModeInitiated(t)})),this.widget.observers.downloadingCanceledObserver.subscribe((function(t){e.downloadingCanceled(t)})),this.widget.observers.downloadingStartedObserver.subscribe((function(){e.element.hide()})),this.widget.observers.errorCaughtObserver.subscribe((function(){e.downloadingCanceled()})),this.widget.observers.uploadModeInitiatedObserver.subscribe((function(){e.element.hide()})),this.widget.observers.widgetResetObserver.subscribe((function(){e.downloadingCanceled()}))}},{key:"download",value:function(){null!==this.request&&this.request.start()}},{key:"downloadFile",value:function(){this.download(this.url)}},{key:"downloadModeInitiated",value:function(){this.downloadFile()}},{key:"downloadingCanceled",value:function(){null!==this.request&&this.request.abort()}},{key:"get",value:function(){return this.element}}])&&R(t.prototype,n),i&&R(t,i),e}(),M=n(143),H=n.n(M),D=n(145),N=n.n(D);function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=this;this.element=null,this.pdfjsLib=null,this.widget=t,this.delayedFile=null,this.typedArray=null,this.fileReader=new FileReader,window.pdfJs?(r.pdfjsLib=window.pdfJs,r.loaded()):I.getPdfJs().then((function(e){window.pdfJs=e,r.pdfjsLib=e,n.delayedFile?r.displayPdfFile(n.delayedFile):r.loaded()})),this.init()}var t,n,r;return t=e,(n=[{key:"loaded",value:function(){this.pdfjsLib.GlobalWorkerOptions.workerSrc="pdf.worker.min.js",this.reset()}},{key:"init",value:function(){this.element=_.createElement("div",{classes:h.extractClasses(N.a,F.preview.pdf.code)}),this.element.canvasWrapper=_.createElement("div",{classes:h.extractClasses(N.a,F.preview.pdf.canvas.wrapper.code)}),this.element.canvasWrapper.canvas=_.createElement("canvas",{classes:h.extractClasses(N.a,F.preview.pdf.canvas.code)}),this.element.control=_.createElement("div",{classes:h.extractClasses(N.a,F.preview.pdf.control.code)}),this.element.control.prev=_.createElement("img",{classes:h.extractClasses(N.a,F.preview.pdf.control.icon.prev.code)}),this.element.control.next=_.createElement("img",{classes:h.extractClasses(N.a,F.preview.pdf.control.icon.next.code)}),this.element.control.prev.setSvg('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-left" class="svg-inline--fa fa-caret-left fa-w-6" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="-100 0 512 512">\n    <circle cx="140" cy="255" r="227" fill="currentColor" stroke="#FFF" stroke-width="20"/>\n    <circle cx="140" cy="255" r="220" fill="#FFF" stroke="currentColor" stroke-width="20"/>\n    <path fill="currentColor" d="M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z"/>\n</svg>\n'),this.element.control.next.setSvg('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-left" class="svg-inline--fa fa-caret-left fa-w-6" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="-200 0 512 512">\n    <circle cx="60" cy="255" r="227" fill="currentColor" stroke="#FFF" stroke-width="20"/>\n    <circle cx="60" cy="255" r="220" fill="#FFF" stroke="currentColor" stroke-width="20"/>\n    <path fill="currentColor" d="M0 384.662V127.338c0-17.818 21.543-26.741 34.142-14.142l128.662 128.662c7.81 7.81 7.81 20.474 0 28.284L34.142 398.804C21.543 411.404 0 402.48 0 384.662z"/>\n</svg>\n'),this.element.hide(),this.element.control.hide(),this.initializeEvents()}},{key:"initializeEvents",value:function(){var e=this;this.fileReader.onload=function(){e.typedArray=new Uint8Array(this.result),delete this.result,e.pdfjsLib.getDocument(e.typedArray).promise.then((function(t){e.pdfDoc=t,e.pageCount=e.pdfDoc.numPages,e.renderPage(e.pageNum)}))},this.element.control.prev.on("click",(function(t){return t.stopPropagation(),e.onPrevPage(t),!1})),this.element.control.next.on("click",(function(t){return t.stopPropagation(),e.onNextPage(t),!1})),this.element.on("mouseenter",(function(){e.element.control.show()})),this.element.on("mouseleave",(function(){e.element.control.hide()}))}},{key:"renderPage",value:function(e){var t=this,n=this;n.pageRendering=!0,n.pdfDoc.getPage(e).then((function(e){var r=W(e.view,4),i=r[2],o=r[3]/i,s=e.getViewport({scale:1});n.element.canvasWrapper.canvas.height(i*o),n.element.canvasWrapper.canvas.width(i);var a={canvasContext:t.ctx,viewport:s};e.render(a).promise.then((function(){n.pageRendering=!1,null!==n.pageNumPending&&(n.renderPage(n.pageNumPending),n.pageNumPending=null)}))}))}},{key:"setPdfFile",value:function(e){this.pdfjsLib?this.displayPdfFile(e):this.delayedFile=e}},{key:"displayPdfFile",value:function(e){this.reset();var t=this.element.canvasWrapper.canvas.target();this.ctx=t.getContext("2d"),this.fileReader.readAsArrayBuffer(e),this.element.show(),this.ctx&&(this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height))}},{key:"hide",value:function(){this.reset(),this.element.hide()}},{key:"queueRenderPage",value:function(e){this.pageRendering?this.pageNumPending=e:this.renderPage(e)}},{key:"onPrevPage",value:function(e){e.stopPropagation(),this.pageNum<=1||(this.pageNum--,this.queueRenderPage(this.pageNum))}},{key:"onNextPage",value:function(e){e.stopPropagation(),this.pageNum>=this.pdfDoc.numPages||(this.pageNum++,this.queueRenderPage(this.pageNum))}},{key:"reset",value:function(){this.pdfDoc&&(delete this.typedArray,delete this.pdfDoc),this.delayedFile=null,this.pageNum=1,this.pageRendering=!1,this.pageCount=null,this.pageNumPending=null}},{key:"get",value:function(){return this.element}}])&&z(t.prototype,n),r&&z(t,r),e}();function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=null,this.url=null,this.widget=t,this.fileReader=new FileReader,this.file=null,this.pdfPreview=null,this.previewFileTypes=["image/png","image/jpeg","image/jpg","image/gif","image/svg+xml","image/svg"],this.textFileTypes=["application/pdf"],this.allowedType=this.previewFileTypes.concat(this.textFileTypes),this.init()}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.element=_.createElement("div",{classes:h.extractClasses(H.a,F.preview.code)}),this.element.body=_.createElement("div",{classes:h.extractClasses(H.a,F.preview.body.code)}),this.element.body.wrapper=_.createElement("div",{classes:h.extractClasses(H.a,F.preview.body.image.wrapper.code)}),this.element.body.wrapper.image=_.createElement("img",{classes:h.extractClasses(H.a,F.preview.body.image.code)}),this.pdfPreview=new U(this.widget),this.element.pdf=this.pdfPreview.get(),this.element.hide(),this.initializeObservers(),this.initializeEvents()}},{key:"initializeObservers",value:function(){var e=this;e.widget.observers.downloadingFinishedObserver.subscribe((function(t){e.element.show(),e.element.body.show(),e.downloadingFinished(t)})),e.widget.observers.fileSelectedObserver.subscribe((function(t){e.element.show(),e.element.body.show(),e.downloadingFinished(t)})),e.widget.observers.uploadModeInitiatedObserver.subscribe((function(t){e.uploadModeInitiated(t)}))}},{key:"initializeEvents",value:function(){var e=this,t=this;t.widget.configurator.get().visibility.preview&&t.element.on("click",(function(){if(t.file){var n=t.file.type;null!==t.url?window.open(t.url,"_blank"):e.allowedType.includes(n)&&h.adsBlocked((function(e){if(e)console.log("Disable ads blockers, please!");else if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t.file,t.file.name);else{var n=window.URL.createObjectURL(t.file,{oneTimeOnly:!0});window.open().location.href=n}}))}})),t.fileReader.onload=function(e){t.showFilePreview(e)}}},{key:"uploadModeInitiated",value:function(){this.pdfPreview.hide(),this.element.hide(),this.resetFile()}},{key:"downloadingFinished",value:function(e){var t=e.type;e&&e.url?this.url=e.url:this.url=null,this.file=e,this.previewFileTypes.includes(t)?(this.element.body.wrapper.show(),this.fileReader.readAsDataURL(e)):this.textFileTypes.includes(t)&&(this.element.body.hide(),this.pdfPreview.setPdfFile(e))}},{key:"showFilePreview",value:function(e){var t=e.target.result;this.element.body.wrapper.image.attr("src",t)}},{key:"resetFile",value:function(){this.file=null,this.element.body.wrapper.hide()}},{key:"get",value:function(){return this.element}}])&&B(t.prototype,n),r&&B(t,r),e}();function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var X=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.widgetId=t.widgetId,this.configurator=new b,this.configuration=t,this.provenFileConfiguration=t.file,this.observers={},this.element=null,this.previewContainer=null,this.configurator.init(t),this.initializeObservers(),this.initializeExternalObservers(t),this.init()}var t,n,r;return t=e,(n=[{key:"initializeObservers",value:function(){var e=this;this.observers={widgetResetObserver:new k,downloadModeInitiatedObserver:new k,uploadModeInitiatedObserver:new k,downloadingProgressObserver:new k,downloadingStartedObserver:new k,downloadingFinishedObserver:new k,downloadingCanceledObserver:new k,downloadingFailedObserver:new k,fileSelectedObserver:new k,hashingProgressObserver:new k,hashingStartedObserver:new k,hashingFinishedObserver:new k,hashingCanceledObserver:new k,errorCaughtObserver:new k,errorHiddenObserver:new k},this.observers.hashingCanceledObserver.subscribe((function(){e.observers.uploadModeInitiatedObserver.broadcast()})),this.observers.widgetResetObserver.subscribe((function(){e.observers.uploadModeInitiatedObserver.broadcast()})),this.observers.downloadingFailedObserver.subscribe((function(t){e.observers.errorCaughtObserver.broadcast(t)}))}},{key:"initializeExternalObservers",value:function(e){var t=this,n=this;e.observers&&Object.keys(e.observers).forEach((function(r){var i=e.observers[r];switch(r.toLowerCase()){case"downloadingstarted":t.observers.downloadingStartedObserver.subscribe((function(e){return i(n.widgetId,e)}));break;case"downloadingcanceled":t.observers.downloadingCanceledObserver.subscribe((function(){return i(n.widgetId)}));break;case"downloadingprogress":t.observers.downloadingProgressObserver.subscribe((function(e){return i(n.widgetId,e)}));break;case"downloadingfinished":t.observers.downloadingFinishedObserver.subscribe((function(e){return i(n.widgetId,e)})),t.observers.fileSelectedObserver.subscribe((function(e){return i(n.widgetId,e)}));break;case"downloadingfailed":t.observers.downloadingFailedObserver.subscribe((function(e,t,r){return i(n.widgetId,e,t,r)}));break;case"hashcalculated":t.observers.hashingFinishedObserver.subscribe((function(e){var t=e.hash,r=e.file;return i(n.widgetId,t,r)}));break;case"hashingstarted":t.observers.hashingStartedObserver.subscribe((function(e,t){return i(n.widgetId,e,t)}));break;case"hashingprogress":t.observers.hashingProgressObserver.subscribe((function(e){return i(n.widgetId,e)}));break;case"hashingcanceled":t.observers.hashingCanceledObserver.subscribe((function(){return i(n.widgetId)}));break;case"widgetreset":t.observers.widgetResetObserver.subscribe((function(){return i(n.widgetId)}));break;case"errorcaught":t.observers.errorCaughtObserver.subscribe((function(e){return i(n.widgetId,e)}))}}))}},{key:"init",value:function(){this.element=_.createElement("div",{classes:h.extractClasses(E.a,F.code),hidden:h.extractClasses(E.a,F.widget.hidden)}),this.element.dropContainer=new j(this).get(),this.previewContainer=new G(this),this.element.previewContainer=this.previewContainer.get(),this.provenFileConfiguration.url&&(this.element.downloadContainer=new L(this).get()),this.provenFileConfiguration.url&&this.observers.downloadModeInitiatedObserver.broadcast(this.provenFileConfiguration),this.element.attr("id",this.widgetId)}},{key:"reset",value:function(){this.previewContainer.resetFile(),this.observers.widgetResetObserver.broadcast()}},{key:"render",value:function(){return this.element.render()}}])&&J(t.prototype,n),r&&J(t,r),e}(),Y=[];function V(){var e=function(){var e="".concat(r.FILE_HASHER_WIDGET_ID,"-style"),t=document.getElementById(r.FILE_HASHER_WIDGET_ID),n=document.getElementById(e),i=null;if(t&&t.src&&null===n){var o=t.src.replace(".js",".css"),s=document.getElementsByTagName("head")[0],a=document.createElement("link");i=h.getFilenameSource(t.src),a.rel="stylesheet",a.id=e,a.type="text/css",a.href=o,a.media="all",s.appendChild(a)}return i}();return window["file-hasher-widget-source"]||null===e||(window["file-hasher-widget-source"]=e),new Promise((function(e){return e(!0)}))}function K(e){e.forEach((function(e){var t=h.getUniqueId("".concat(r.FILE_HASHER_WIDGET_ID,"-")),n=e.config,i=e.el,o=e.id,s=void 0===o?t:o;i||p.error("Widget element wasn't found"),n.widgetId=s;var a={file:{url:null},visibility:{preview:!0},styles:{icons:{color:"#000"}},icons:{import:null,download:null},proxy:{url:null,enabled:!1},lang:r.DEFAULT_WIDGET_LANGUAGE,type:r.FILE_HASHER_WIDGET_TYPE};for(h.extendObject(a,n);i.firstChild;)i.removeChild(i.firstChild);var l=new X(a);i.appendChild(l.render()),Y.push(l)}))}window.fileHasherWidget={init:K,reset:function(e){Y.forEach((function(t){t.configuration.id===e&&t.reset()}))}},function(e,t){var n=[],i=r.FILE_HASHER_WIDGET_ID,o=t.getElementsByClassName(i);0===!o.length&&p.error("The widget elements were not found"),Array.from(o).forEach((function(t){var r=h.parseWidgetAttributeConfiguration(t);r&&r.observers&&Object.keys(r.observers).forEach((function(t){var n=r.observers[t];r.observers[t]=h.byString(e,n)||function(){}}));n.push({el:t,id:r.id,config:r})})),V().then((function(){return K(n)}))}(window,document)},135:function(e,t){e.exports={woleet_widget_hidden:"_10cay--woleet_widget_hidden","file_hasher_widget--wrapper":"XTurt--file_hasher_widget--wrapper","description-block":"_2CvN9--description-block"}},139:function(e,t){e.exports={woleet_widget_hidden:"_2PhIH--woleet_widget_hidden","file_hasher_widget--wrapper":"_2_cq5--file_hasher_widget--wrapper","description-block":"_1YgIW--description-block",drop_container:"_1U3L7--drop_container","drop_container--body":"_1bzw3--drop_container--body","drop_container--body-input":"_1P1FS--drop_container--body-input"}},141:function(e,t){e.exports={woleet_widget_hidden:"_3k_iA--woleet_widget_hidden","file_hasher_widget--wrapper":"_1IUHY--file_hasher_widget--wrapper","description-block":"_15rkU--description-block",download_container:"_3C1qm--download_container","download_container--body":"u16fq--download_container--body"}},143:function(e,t){e.exports={woleet_widget_hidden:"XUzkM--woleet_widget_hidden","file_hasher_widget--wrapper":"TMsic--file_hasher_widget--wrapper","description-block":"_3VdBX--description-block",preview_container:"nuQwd--preview_container","preview_container--body-image":"_2kKlO--preview_container--body-image","preview_container--body-image_wrapper":"_2v5cD--preview_container--body-image_wrapper"}},145:function(e,t){e.exports={"preview_container--pdf":"_2w97v--preview_container--pdf","preview_container--pdf-canvas":"dUuof--preview_container--pdf-canvas","preview_container--pdf-control":"_1VQAl--preview_container--pdf-control","preview_container--pdf-control_icon":"_1qKaX--preview_container--pdf-control_icon","preview_container--pdf-control_icon--next":"_2882---preview_container--pdf-control_icon--next","preview_container--pdf-control_icon--prev":"_3Rr6f--preview_container--pdf-control_icon--prev"}}});