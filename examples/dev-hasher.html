<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>File Hasher widget: development page</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
        .file-hasher-widget {
            padding: 20px 0;
        }

        .file-hasher-widget > div {
            margin: 0 auto;
        }

        .log {
            max-width: 500px;
            margin: 20px auto;
            padding: 10px 20px;
            text-align: justify;
            word-break: break-all;
            color: white;
            font-size: 18px;
        }

        .download-logging {
            background: #0074D9;
        }

        .hash-logging {
            background: #2ECC40;
        }
    </style>
</head>
<body>
<script>
  var dev = true;

  var test = {
    hashCalculatedObserver: function(widgetId, hash) {
      var logElement = document.getElementById('hash-logging');
      var logElementItem = document.createElement('p');
      logElementItem.innerHTML = 'Deep observer: Hash "' + hash + '" computed by widget id  "' + widgetId + '"';
      logElement.appendChild(logElementItem);
    },
    downloadingFinishedObserver: function(widgetId, file) {
      var logElement = document.getElementById('download-logging');
      var logElementItem = document.createElement('p');
      logElementItem.innerHTML = 'Deep observer: File "' + file.name + '" downloaded by widget id  "' + widgetId + '"';
      logElement.appendChild(logElementItem);
    },
    downloadingStartedObserver: function(widgetId, filename) {
      /*var logElement = document.getElementById('download-logging');
      var logElementItem = document.createElement('p');
      logElementItem.innerHTML = 'Deep observer: File "' + file.name + '" downloaded by widget id  "' + widgetId + '"';
      logElement.appendChild(logElementItem);*/

      console.log('started', widgetId, filename);
    },
    downloadingCanceledObserver: function(widgetId) {
      /*var logElement = document.getElementById('download-logging');
      var logElementItem = document.createElement('p');
      logElementItem.innerHTML = 'Deep observer: File "' + file.name + '" downloaded by widget id  "' + widgetId + '"';
      logElement.appendChild(logElementItem);*/

      console.log('Canceled', widgetId);
    },
    downloadingProgressObserver: function(widgetId, progress) {
      /*var logElement = document.getElementById('download-logging');
      var logElementItem = document.createElement('p');
      logElementItem.innerHTML = 'Deep observer: File "' + file.name + '" downloaded by widget id  "' + widgetId + '"';
      logElement.appendChild(logElementItem);*/

      console.log('progress', widgetId, progress);
    }
  };

  function hashCalculated(widgetId, hash, file) {
    var logElement = document.getElementById('hash-logging');
    var logElementItem = document.createElement('p');

    logElementItem.innerHTML = 'Deep observer: Hash "' + hash + '" computed by widget id "' + widgetId + '"';
    logElement.appendChild(logElementItem);
  }

  function hashingStarted(widgetId, file) {
    console.log('Hashing started', widgetId, file);
  }

  function hashingCanceled(widgetId) {
    console.log('Hashing canceled', widgetId);
  }

  function hashingProgress(widgetId, progress) {
    console.log('Hashing progress', widgetId, progress);
  }

  function widgetReset(widgetId) {
    console.log('Widget was reset', widgetId);
  }
/**
 *
 * This is a big pdf file. It's used during the development process
 * https://archive.org/download/Mahabharata_201712/6_Mahabharata.pdf
 *
 * */
  (function (d,s,i,f) {
    var js = d.createElement(s); var fjs = d.getElementsByTagName(s)[0];
    js.id = i; js.src = f; js.async = 1; fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'file-hasher-widget', 'file-hasher-widget.js'));
</script>
<div class='file-hasher-widget'
     lang='de'
     styles-icon-width='90px'
     visibility-title="false"
     visibility-progress="false"
     visibility-hash="false"
     visibility-controls-reset="false"
     id='file-hasher-widget-de'
     observers='{"hashCalculated": "window.hashCalculated", "hashingStarted": "hashingStarted", "hashingCanceled": "hashingCanceled", "hashingProgress": "hashingProgress", "widgetReset": "widgetReset"}'></div>
<!--http://demos.codexworld.com/embed-pdf-document-file-in-html-web-page/files/Brochure.pdf-->
<div class='file-hasher-widget'
     lang='fr'
     styles-color='#FFFFFF'
     styles-width='250px'
     styles-align='left'
     styles-icon-width='150px'
     observers-hashCalculated='test.hashCalculatedObserver'
     observers-downloadingFinished='test.downloadingFinishedObserver'
     observers-downloadingStarted='test.downloadingStartedObserver'
     observers-downloadingCanceled='test.downloadingCanceledObserver'
     observers-downloadingProgress='test.downloadingProgressObserver'
     proven_file='{"url": "http://demos.codexworld.com/embed-pdf-document-file-in-html-web-page/files/Brochure.pdf", "fast_download": true}'></div>
<div class='file-hasher-widget'
     styles='{"width": "150px", "progress": {"icon": {"color": "red"}}}'
     proven_file-url='http://pngimg.com/uploads/google/google_PNG19644.png'
     observers='{"hashCalculated": "test.hashCalculatedObserver", "fileDownloaded": "test.downloadingFinishedObserver"}'
></div>
<div class="log download-logging" id="download-logging"></div>
<div class="log hash-logging" id="hash-logging"></div>
</body>
</html>
