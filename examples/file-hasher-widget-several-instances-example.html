<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Woleet File Hasher widget</title>
    <!-- IE ZONE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <style>
        .file-hasher-widget {
            padding: 20px 0;
        }

        .file-hasher-widget > div {
            margin: 0 auto;
        }

        .log {
            max-width: 500px;
            margin: 20px auto;
            padding: 10px 20px;
            text-align: justify;
            word-break: break-all;
            color: white;
            font-size: 18px;
        }

        .download-logging {
            background: #0074D9;
        }

        .hash-logging {
            background: #2ECC40;
        }
    </style>
</head>
<body>
<script>
  var test = {
    hashCalculated: function(widgetId, hash) {
      let logElement = document.getElementById('hash-logging');
      let logElementItem = document.createElement('p');
      logElementItem.innerHTML = 'Deep observer: Hash "' + hash + '" computed by widget id  "' + widgetId + '"';
      logElement.appendChild(logElementItem);
    },
    fileDownloadedObserver: function(widgetId, file) {
      let logElement = document.getElementById('download-logging');
      let logElementItem = document.createElement('p');
      logElementItem.innerHTML = 'Deep observer: "' + file.name + '" downloaded by widget id  "' + widgetId + '"';
      logElement.appendChild(logElementItem);
    }
  };

  function hashCalculated(widgetId, hash) {
    let logElement = document.getElementById('hash-logging');
    let logElementItem = document.createElement('p');
    logElementItem.innerHTML = 'Window observer: Hash "' + hash + '" computed by widget id "' + widgetId + '"';
    logElement.appendChild(logElementItem);
  }

  (function (d,s,i,f) {
    var js = d.createElement(s); var fjs = d.getElementsByTagName(s)[0];
    js.id = i; js.src = f; js.async = 1; fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'file-hasher-widget', '../dist/file-hasher-widget.js'));
</script>
<div class='file-hasher-widget' id='file-hasher-widget-de'
     observers-hashCalculated='window.hashCalculated'
     styles-width='270px'
     styles-iconWidth='120px'
     lang='de'></div>
<div class='file-hasher-widget'
     lang='fr'
     styles='{"width": "150px"}'
     provenfile='{"url": "http://pngimg.com/uploads/google/google_PNG19634.png", "fastDownload": true}'
     observers='{"hashCalculated": "test.hashCalculated"}'></div>
<div class="file-hasher-widget" config='{"provenFile": {"url": "http://pngimg.com/uploads/google/google_PNG19644.png"}, "styles": {"width": "250px"}, "observers": {"hashCalculated": "test.hashCalculated", "fileDownloaded": "test.fileDownloadedObserver"}}'></div>
<div class="log download-logging" id="download-logging"></div>
<div class="log hash-logging" id="hash-logging"></div>
</body>
</html>
